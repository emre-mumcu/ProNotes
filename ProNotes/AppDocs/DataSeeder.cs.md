//using Microsoft.EntityFrameworkCore;
//using mumcu.net.data.Context;
//using mumcu.net.data.Entities;

//// TODO: Code review is required
//namespace mumcu.net.data.Concrete
//{
//    public static class DataSeeder
//    {
//        /// <summary>
//        /// This seeding type is a Model seed data in which seeding data is associated with an entity type as part of the model configuration.
//        /// This type of seed data is managed by migrations
//        /// this feature is most useful for static data that's not expected to change outside of migrations and does not depend on anything else in the database
//        /// The primary key value needs to be specified even if it's usually generated by the database. It will be used to detect data changes between migrations.
//        /// Previously seeded data will be removed if the primary key is changed in any way.
//        /// Seeding data on modelbuilder allows primary key fields to be manually seeded
//        /// This Seed runs during migrations
//        /// When a migration is added the changes to the data specified with HasData are transformed to calls to InsertData(), UpdateData(), and DeleteData()
//        /// </summary>
//        public static void SeedData(this ModelBuilder modelBuilder)
//        {
//            List<Sample1Entity> data = new List<Sample1Entity>()
//            {
//                new Sample1Entity() { Id=1, Name="Item-1", Created= DateTime.Now },
//                new Sample1Entity() { Id=2, Name="Item-2", Created= DateTime.Now },
//                new Sample1Entity() { Id=3, Name="Item-3", Created= DateTime.Now }
//            };

//            modelBuilder.Entity<Sample1Entity>().HasData(data);
//        }

//        /// <summary>
//        /// This is not actually seeding. Here we check table and if no rows exists we add data during app startup...
//        /// This Seed runs in Program start
//        /// </summary>
//        /// <param name="dbContext"></param>
//        /// <returns></returns>
//        public static async Task PopulateData(AppDbContext dbContext)
//        {
//            // TODO: Code review is required

//            // GetPendingMigrations calls OnModelCreating
//            IEnumerable<string> pendingMigrations = dbContext.Database.GetPendingMigrations();

//            // Below codes creates database/ checks and apply migrations if necessary 
//            //if (dbContext.Database.GetPendingMigrations().Any())
//            //{
//            //    await dbContext.Database.MigrateAsync(); // this also causes migration seed run ?? check if it is true
//            //}
//            //else
//            //{
//            //    dbContext.Database.EnsureCreated();
//            //}



//            if (!dbContext.sample2s.Any())
//            {
//                dbContext.sample2s.Add(new Sample2Entity() { Name = "Item-1" });
//                dbContext.sample2s.Add(new Sample2Entity() { Name = "Item-2" });

//                await dbContext.SaveChangesAsync();
//            }

//        }
//    }
//}
